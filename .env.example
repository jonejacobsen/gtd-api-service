# GTD API Service Environment Variables

# Database Configuration (required)
# Use one of these - Railway will auto-populate DATABASE_URL
DATABASE_URL=postgresql://user:password@host:port/database
# or
RAILWAY_POSTGRESQL_URL=postgresql://user:password@host:port/database

# Server Configuration
NODE_ENV=production
GTD_API_PORT=3001  # Railway will override with $PORT

# CORS Configuration
CORS_ORIGIN=*  # Change to specific domains in production, e.g., https://your-app.com,https://n8n.your-domain.com

# File Upload Limits
MAX_FILE_SIZE=104857600  # 100MB in bytes

# OpenAI Configuration (optional - for vector search)
OPENAI_API_KEY=sk-...  # Your OpenAI API key

# Embedding Processing
EMBEDDING_BATCH_SIZE=10  # Documents to process at once

# Security (optional but recommended)
API_KEY_REQUIRED=false  # Set to true to require API key authentication
API_KEY=your-secret-api-key  # Required if API_KEY_REQUIRED is true

# Rate Limiting (optional)
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100  # Max requests per window

# Logging
LOG_LEVEL=info  # debug, info, warn, error

# Performance
DB_POOL_SIZE=20  # Database connection pool size
DB_IDLE_TIMEOUT_MS=30000  # Idle connection timeout

# n8n Integration (if needed)
N8N_WEBHOOK_URL=https://your-n8n-instance.com/webhook
N8N_API_KEY=your-n8n-api-key